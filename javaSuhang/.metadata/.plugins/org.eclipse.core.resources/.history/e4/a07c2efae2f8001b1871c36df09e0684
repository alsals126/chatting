import java.net.*;
import java.io.*;

class UDPClientExam{
	public static void main(String[] args) throws Exception{
		System.out.print("보낼 메시지 : ");
		BufferedReader in = new BufferedReader(new InputStreamReader(System.in));
		String msg = in.readLine();
		DatagramPacket dp = new DatagramPacket(msg.getBytes(), 
				msg.getBytes().length, InetAddress.getByName("127.0.0.1"),3000);
		DatagramSocket ds = new DatagramSocket();
		ds.send(dp);
    }
}

public class UDPServerExam{
	public static void main(String[] args) throws Exception{
		DatagramSocket ds= new DatagramSocket(3000);
		byte[] data=new byte[65508];
		DatagramPacket dp= new DatagramPacket(data, data.length);
        System.out.println("UDP 서버 대기중");
        ds.receive(dp);
        String msg = new String(dp.getData()).trim();
        System.out.println(" 보낸 주소  :"+dp.getAddress());
        System.out.println(" 보낸메시지 : " + msg);
   }
}